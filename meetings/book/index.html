<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>two/fiftyseven | meetings</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="stylesheet" href="/aesthetic/stylesheets/normalize.css" type="text/css"/>
    <link rel="stylesheet" href="/aesthetic/stylesheets/variables.css" type="text/css"/>
    <link rel="stylesheet" href="/aesthetic/stylesheets/main.css" type="text/css"/>
    <link rel="stylesheet" href="/aesthetic/fonts/crake/font.css" type="text/css"/>
    <link rel="stylesheet" href="https://use.typekit.net/xzf4jff.css" type="text/css"/>
    <script src="/scripts/main.js" type='application/javascript'></script>
  </head>
  <body id='book-room'>
    <!-- <header class="splash">
         <div class="splash-topbar">
         <a class="splash-topbar-logo" href='/' title="return home">
         <img src='/aesthetic/assets/257-boogie-logo-orange.png' alt="two fifty seven logo"/>
         </a>
         <nav class="splash-topbar-nav">
         <a class="nav-item" href="/workspace">workspace</a>
         <a class="nav-item active" href="/meetings">meetings </a>
         <a class="nav-item" href="/events">events </a>
         <a class="nav-item" href="/community">community </a>
         <a class="nav-item" href="/our-story">our story</a>
         <a class="nav-item" href="/login">login</a>
         </nav>
         </div>
         </header> -->
    <h1>Book a room</h1>
    <div class='question-list'>
      <details id='bmr' class="question-item condensed">
        <summary class="question">
          <span class="content">
            meeting room booking request
          </span>
          <span class="toggle">
            ＋
          </span>
        </summary>
      <form id="bmr_form" class='booking-form w-50'>
        <input type="hidden" name="sheet" value="booking-request">
        <fieldset>
          <legend>What room would you like to book?</legend>
          <div class="radio-group">
            <input type="radio" id="bmr_meeting-room" name="space" value="meeting-room"/>
            <label for="bmr_meeting-room">meeting room (up to 6 people)</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_silver-linings" name="space" value="silver-linings"/>
            <label for="bmr_silver-linings">silver linings (up to 12 people)</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_whataitai-ngake" name="space" value="whataitai-ngake"/>
            <label for="bmr_whataitai-ngake">studio whataitai+ngake (up to 12 people)</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_workshop" name="space" value="workshop"/>
            <label for="bmr_workshop">workshop space (up to 36 people)</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_entire" name="space" value="entire"/>
            <label for="bmr_entire">entire two/fiftyseven (up to 200)</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_unsure" name="space" value="unsure"/>
            <label for="bmr_unsure">I'm not sure!</label>
          </div class="radio-group">
        </fieldset>
        <div class="form-group">
        <label for="name">Your name</label>
        <input type="text" name="name"/>
        </div>
        <div class="form-group">
        <label for="organisation">Your organisation</label>
        <input type="text" name="organisation"/>
        </div>
        <div class="form-group">
        <label for="email">Your email</label>
        <input type="email" name="email"/>
        </div>
        <fieldset>
          <legend>What layout do you need?</legend>
          <div class="radio-group">
            <input type="radio" id="bmr_boardroom" name="layout" value="boardroom"/>
            <label for="bmr_boardroom">Boardroom single table</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_theatre" name="layout" value="theatre"/>
            <label for="bmr_theatre">Theatre facing front</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_classroom" name="layout" value="classroom"/>
            <label for="bmr_classroom">Classroom 'U' shape</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_workshop" name="layout" value="workshop"/>
            <label for="bmr_workshop">Workshop groups at tables</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_empty" name="layout" value="empty"/>
            <label for="bmr_empty">Empty space</label>
          </div class="radio-group">
          <div class="radio-group">
            <input type="radio" id="bmr_other" name="layout" value="other"/>
            <label for="bmr_other">Other: <input type="text" id="bmr_other_text" class='other-input'/></label>
          </div class="radio-group">
        </fieldset>

        <div class='submit-group'>
          <button type="submit" id="bmr_submit">Submit</button>
        </div>

      </form>

      </form>
      </details>
      <details id='ge' class="question-item condensed">
        <summary class="question">
          <span class="content">
            general inquiry
          </span>
          <span class="toggle">
            ＋
          </span>
        </summary>
      <form id="ge_form" class='booking-form w-50'>
        <input type="hidden" name="sheet" value="general enquiry">
        <div class="form-group">
        <label for="name">Your name</label>
        <input type="text" name="name"/>
        </div>
        <div class="form-group">
        <label for="organisation">Your organisation</label>
        <input type="text" name="organisation"/>
        </div>
        <div class="form-group">
        <label for="email">Your email</label>
        <input type="email" name="email"/>
        </div>
        <div class="form-group">
        <label for="details">Tell us more!</label>
        <textarea name="details" rows="10"></textarea>
        </div>

        <div class='submit-group'>
          <button type="submit" id="ge_submit">Submit</button>
        </div>

      </form>

      </form>
      </details>
    </div>

    <footer>
      <div class='footer-contact'>
        <p>visit</p>
        <p>
          level 2</br>
          57 willis + 70 victoria streets</br>
          whanganui-a-tara</br>
        </p>
        <p>
          kiaora@twofiftyseven.co
        </p>
      </div>
      <a class='footer-logo' href="/" title="return home">
       <img src='/aesthetic/assets/257-boogie-logo-orange.png' alt="two fifty seven logo"/>
       </a>
    </footer>
  </body>
  <script>
   document.addEventListener('DOMContentLoaded', () => {
     const bmrForm = document.querySelector("#bmr_form")
     const bmrSubmitButton = document.querySelector("#bmr_submit")
     const scriptURL="https://script.google.com/macros/s/AKfycbzHuSXg4UvYsZzVNljJdkmI7h25ZlZYWuDJLzIfLGSgAz9zoUaNUqlmav91xus3jaWn/exec";
     const geForm = document.querySelector("#ge_form")
     const geSubmitButton = document.querySelector("#ge_submit")

     bmrForm.addEventListener('submit', e => {
       bmrSubmitButton.disabled = true
       bmrSubmitButton.textContent = 'sending request';
       e.preventDefault()
       const requestForm = new FormData(bmrForm)
       const otherInput = document.querySelector('#bmr_other_text').value;
       const layoutType = requestForm.get('layout');
       if (layoutType === 'other') {
         requestForm.append('layout-other',otherInput);
       };
       fetch(scriptURL, { method: 'POST', body: requestForm})
         .then(response => {
           alert('Success!', response)
           bmrSubmitButton.disabled = false
         })
         .catch(error => {
           alert('Error!', error.message)
           bmrSubmitButton.disabled = false
         })
     });

     geForm.addEventListener('submit', e => {
       geSubmitButton.disabled = true
       geSubmitButton.textContent = 'sending request';
       e.preventDefault()
       const requestForm = new FormData(geForm)
       fetch(scriptURL, { method: 'POST', body: requestForm})
         .then(response => {
           alert('Success!', response)
           geSubmitButton.disabled = false;
         })
         .catch(error => {
           alert('Error!', error.message)
           geSubmitButton.disabled = false;
         })
     });

     const bmrOpen = localStorage.getItem('bmr_open');
     if (bmrOpen === "true") {
       console.log("bmr yep")
       const requestDetails = document.querySelector('#bmr');
       requestDetails.setAttribute('open', "true");
       localStorage.removeItem('bmr_open');
     }
     const geOpen = localStorage.getItem('ge_open');
     if (geOpen === "true") {
       console.log("ge yep")
       const requestDetails = document.querySelector('#ge');
       requestDetails.setAttribute('open', "true");
       localStorage.removeItem('ge_open');
     }
   });
  </script>
</html>
